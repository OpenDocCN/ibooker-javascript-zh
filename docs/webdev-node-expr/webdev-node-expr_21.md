# 第二十一章：上线

大日子终于到了：你花了数周或数月的心血，现在你的网站或服务已经准备好上线了。这并不像“翻开一个开关”那么简单，然后你的网站就上线了……或者说是吗？

在这一章节中（你真的应该在发布前*数周*而不是当天读这部分！），你将了解到一些域名注册和托管服务，以及从测试环境到生产环境的迁移技巧、部署技术以及选择生产服务时需要考虑的事项。

# 域名注册和托管

人们经常困惑于*域名注册*和*托管*之间的区别。如果你在读这本书，你可能不会困惑，但我打赌你知道有些人是，比如你的客户或你的经理。

互联网上的每个网站和服务都可以通过一个*互联网协议（IP）地址*（或多个）进行识别。这些数字对人类来说并不友好（随着 IPv6 的推广，情况只会变得更糟），但是你的计算机最终需要这些数字来显示网页。这就是*域名*的作用。它们将一个人类友好的名称（如*google.com*）映射到一个 IP 地址（74.125.239.13 或 2601:1c2:1902:5b38:c256:27ff:fe70:47d1）。

一个现实世界的类比是企业名称和物理地址之间的区别。域名就像你的企业名称（苹果），IP 地址就像你的物理地址（One Apple Park Way, Cupertino, CA 95014）。如果你真的需要驾车去访问苹果总部，你就需要知道物理地址。幸运的是，如果你知道企业名称，你可能会找到物理地址。这种抽象有帮助的另一个原因是，一个组织可以搬迁（获取新的物理地址），人们仍然可以找到它，尽管它已经搬迁过（事实上，苹果在这本书的第一版和第二版之间确实搬过总部）。

另一方面，*托管*描述的是运行你的网站的计算机。继续使用物理类比，托管可以比作你到达物理地址后看到的建筑物。人们经常感到困惑的是，域名注册与托管几乎没有关系，你并不总是从同一实体那里购买域名和托管服务（就像通常情况下你从一个人那里购买土地，另一个人负责为你建造和维护建筑物）。

尽管可能有可能在没有域名的情况下托管你的网站，但这样做不友好：IP 地址并不具有市场化！通常情况下，当你购买托管服务时，会自动分配一个子域名（我们稍后会介绍），这可以被看作是介于一个市场友好的域名和一个 IP 地址之间的东西（例如，*ec2-54-201-235-192.us-west-2.compute.amazonaws.com*）。

一旦你拥有了一个域名，并且上线了，你可以通过多个 URL 访问你的网站。例如：

+   *http://meadowlarktravel.com/*

+   *http://www.meadowlarktravel.com/*

+   *http://ec2-54-201-235-192.us-west-2.compute.amazonaws.com/*

+   *http://54.201.235.192/*

由于域名映射，所有这些地址都指向同一个网站。一旦请求到达你的网站，就可以根据使用的 URL 采取行动。例如，如果有人从 IP 地址访问你的网站，你可以自动重定向到域名，尽管这种情况并不常见（更常见的是从*http://meadowlarktravel.com/*重定向到*http://www.meadowlarktravel.com/*）。

大多数域名注册商提供主机服务（或与提供主机服务的公司合作）。除了 AWS，我从未觉得注册商的主机选项特别吸引人，将域名注册和主机服务分开是可以的。

## 域名系统（DNS）

*域名系统*（DNS）负责将域名映射到 IP 地址。这个系统相当复杂，但作为网站所有者，你应该了解一些关于 DNS 的事情。

## 安全性

你应该时刻牢记*域名的价值*。如果黑客完全控制了你的主机服务并接管了你的主机，但你仍然控制着域名，你可以获取新的主机并重定向域名。然而，如果你的*域名*被攻破，情况可能会很严重。你的声誉与域名紧密相连，好的域名是谨慎保护的。那些失去域名控制权的人发现情况可能会非常严重，世界上有些人会积极尝试攻破你的域名（特别是特别短或容易记忆的域名），以便出售它、破坏你的声誉或敲诈你。总之，*你应该非常认真对待域名安全性*，甚至可能比对待数据安全性更为重要（这取决于你的数据价值）。我见过有人在购买主机安全性方面投入大量时间和金钱，却在域名注册上选择最便宜、最靠不住的服务商。不要犯这样的错误。（幸运的是，高质量的域名注册并不特别昂贵。）

考虑到保护你的域名所有权的重要性，你应该在域名注册方面采取良好的安全实践。至少，你应该使用强大的、唯一的密码，并采用适当的密码卫生（不要将密码写在挂在显示器上的便条上）。最好是使用支持双因素认证的注册商。不要害怕向你的注册商提出直接的问题，询问如何授权对账户进行更改。我推荐的注册商包括 AWS Route 53、Name.com 和 Namecheap.com。这三家都提供双因素认证，我发现它们的支持服务很好，在线控制面板也易于使用且功能强大。

当你注册一个域名时，你必须提供一个与该域名相关联的第三方电子邮件地址（即，如果你注册了 *meadowlarktravel.com*，你不应该使用 *admin@meadowlarktravel.com* 作为你的注册邮箱）。由于任何安全系统的强度取决于它最薄弱的环节，你应该使用一个安全性好的电子邮件地址。使用 Gmail 或 Outlook 账户是相当普遍的，如果你使用这些账户，你应该采用与你的域名注册商账户相同的安全标准（良好的密码卫生和双因素认证）。

## 顶级域名

你的域名以什么结尾（比如 *.com* 或 *.net*）被称为*顶级域名*（TLD）。一般来说，有两种类型的 TLD：国家代码 TLD 和通用 TLD。国家代码 TLD（例如 *.us*、*.es* 和 *.uk*）旨在提供地理分类。然而，几乎没有限制可以获取这些 TLD 的人（毕竟互联网是一个真正的全球网络），因此它们通常被用于“聪明”的域名，比如 *placehold.it* 和 *goo.gl*。

通用 TLD（gTLDs）包括熟悉的 *.com*、*.net*、*.gov*、*.fed*、*.mil* 和 *.edu*。虽然任何人都可以获取可用的 *.com* 或 *.net* 域名，但对其他提到的域名有一些限制。欲了解更多信息，请参见表 21-1。

表 21-1\. 受限制的 gTLDs

| TLD | 更多信息 |
| --- | --- |
| *.gov*, *.fed* | [*https://www.dotgov.gov*](https://www.dotgov.gov) |
| *.edu* | [*https://net.educause.edu/*](https://net.educause.edu/) |
| *.mil* | 军事人员和承包商应联系他们的 IT 部门，或者访问[国防部统一注册系统](http://bit.ly/354JvZF) |

互联网名称与数字地址分配机构（ICANN）最终负责管理顶级域名，尽管它将大部分实际管理工作委托给其他组织。最近，ICANN 授权了许多新的通用顶级域名（gTLD），如 *.agency*, *.florist*, *.recipes*，甚至 *.ninja*。在可预见的未来，*.com* 可能仍然是“优质”的顶级域名，也是最难获取的。在互联网发展初期，购买 *.com* 域名的人们因为拥有优质域名而获得了巨额回报（例如，Facebook 在 2010 年以惊人的 850 万美元购买了 *fb.com* 域名）。

考虑到 *.com* 域名的稀缺性，人们开始转向使用替代的顶级域名，或者使用 *.com.us* 尝试获取更符合他们组织特征的域名。在选择域名时，应考虑其将如何使用。如果您计划主要通过电子市场营销（人们更可能点击链接而不是输入域名），则应更注重获取一个引人注目或有意义的域名而不是短域名。如果您侧重于印刷广告，或者有理由相信人们会手动输入您的 URL 到他们的设备中，那么您可能应该考虑使用替代的顶级域名，以获取一个更短的域名。同时，拥有两个域名也是常见的做法：一个短而易于输入的，一个更适合市场营销的长域名。

## 子域名

顶级域名（TLD）位于域名之后，而子域名位于之前。迄今为止，最常见的子域名是 *www*。我从来没有特别喜欢这个子域名。毕竟，你是在使用互联网，我相信你不会因为没有 *www* 而感到困惑。因此，我建议在主域名中不使用子域名：*http://meadowlarktravel.com/* 而不是 *http://www.meadowlarktravel.com/*。这样更短更简洁，而且通过重定向，不会因为没有 *www* 而失去访问量。

子域名也被用于其他用途。我经常看到像 *blogs.meadowlarktravel.com*, *api.meadowlarktravel.com*, 和 *m.meadowlarktravel.com*（用于移动站点）这样的东西。通常这是出于技术原因：如果你的博客使用完全不同的服务器，使用子域名可能更容易。然而，一个良好的代理服务器可以根据子域名或路径适当地重定向流量，所以使用子域名还是路径应该更多地关注内容而不是技术（记住 Tim Berners-Lee 关于 URL 表达信息架构而不是技术架构的说法）。

我建议使用子域名来分隔网站或服务中显著不同的部分。例如，我认为将您的 API 放在 *api.meadowlarktravel.com* 子域名下是一个很好的用法。微网站（与站点其他部分外观不同的网站，通常突出单个产品或主题）也是子域名的良好候选。另一个合理使用子域名的方法是将管理界面与公共界面分离（*admin.meadowlarktravel.com*，仅供员工使用）。

除非另有指定，否则您的域名注册商将重定向所有流量到您的服务器，而不管子域名如何。接下来是由您的服务器（或代理）根据子域名采取适当的操作。

## 名字服务器

使域名正常工作的“胶水”是名字服务器，这是您在为网站建立托管时需要提供的内容。通常情况下，这相对简单，因为您的托管服务会为您完成大部分工作。例如，假设我们选择在 [DigitalOcean](https://www.digitalocean.com) 上托管 *meadowlarktravel.com*。当您在 DigitalOcean 设置您的托管账户时，将会提供 DigitalOcean 名字服务器的名称（为了冗余通常有多个）。DigitalOcean，像大多数托管提供商一样，将它们的名字服务器称为 *ns1.digitalocean.com*，*ns1.digitalocean.com* 等等。前往您的域名注册商并为您想要托管的域名设置名字服务器，然后您就可以开始使用了。

在这种情况下，映射的工作方式如下：

1.  网站访客导航到 *http://meadowlarktravel.com/*。

1.  浏览器将请求发送到计算机的网络系统。

1.  计算机的网络系统已经通过互联网提供商分配了互联网 IP 地址和 DNS 服务器，请求 DNS 解析器解析 *meadowlarktravel.com*。

1.  DNS 解析器知道 *meadowlarktravel.com* 由 *ns1.digitalocean.com* 处理，因此请求 *ns1.digitalocean.com* 为 *meadowlarktravel.com* 提供 IP 地址。

1.  服务器 *ns1.digitalocean.com* 接收请求并确认 *meadowlarktravel.com* 是一个活跃的账户，然后返回关联的 IP 地址。

尽管这是最常见的情况，但并不是唯一配置域映射的方式。因为实际提供网站服务的服务器（或代理）有一个 IP 地址，我们可以通过将该 IP 地址注册到 DNS 解析器中来省略名字服务器 *ns1.digitalocean.com* 这一中间步骤（在前述示例中有效）。要使此方法生效，您的托管服务必须分配给您一个 *静态* IP 地址。通常，托管提供商会为您的服务器分配一个 *动态* IP 地址，这意味着它可能会在没有通知的情况下更改，这将使这种方案失效。有时，获取静态 IP 地址可能需要额外费用，而不是动态 IP 地址：请向您的托管提供商查询。

如果你想直接将你的域名映射到你的网站（跳过主机的名称服务器），你将添加 A 记录或 CNAME 记录。*A 记录*直接将域名映射到 IP 地址，而*CNAME*将一个域名映射到另一个域名。CNAME 记录通常稍微不太灵活，因此通常更喜欢 A 记录。

###### 提示

如果你正在使用 AWS 作为你的名称服务器，除了 A 记录和 CNAME 记录之外，它还有一种称为*别名*的记录，如果你指向 AWS 上托管的服务，它提供了很多优势。更多信息，请参阅[AWS 文档](https://amzn.to/2pUuDhv)。

无论你使用什么技术，域名映射通常会被强烈缓存，这意味着当你更改域名记录时，可能需要长达 48 小时才能将域名绑定到新服务器上。请记住，这也与地理位置有关：如果你在洛杉矶看到你的域名工作正常，你在纽约的客户可能会看到域名绑定到之前的服务器上。根据我的经验，通常情况下 24 小时足以使域名在美国大陆正确解析，而国际解析可能需要长达 48 小时。

如果你需要在特定时间精确上线某些内容，不应该依赖 DNS 更改。相反，修改你的服务器以重定向到“即将推出”的站点或页面，并提前进行 DNS 更改，以便在实际切换之前完成。在约定的时刻，然后你可以让服务器切换到线上站点，你的访客无论身处何地都会立即看到变化。

## 托管

选择一个托管服务可能一开始看起来很困难。Node 已经大行其道，每个人都在竞相提供 Node 托管以满足需求。如何选择托管提供商非常依赖于你的需求。如果你有理由相信你的网站将成为下一个亚马逊或 Twitter，那么你将有完全不同的考虑，而如果你为本地集邮俱乐部建立网站，你将有完全不同的考虑。

### 传统托管还是云托管？

“云”这个术语是近年来出现的最模糊的技术术语之一。实际上，它只是“互联网”的一种花哨说法，或者说“互联网”的一部分。然而，这个术语并非完全无用。虽然不是术语的技术定义的一部分，但在云中托管通常意味着对计算资源进行某种商品化。也就是说，我们不再把“服务器”看作一个独立的物理实体：它只是云中的某个同质资源，而一个服务器和另一个服务器是一样好的。当然，我这么说有点简化了：计算资源根据它们的内存、CPU 数量等进行区分（和定价）。区别在于知道（和关心）你的应用实际托管在哪台服务器上，以及知道它托管在云中的*某个*服务器上，并且可以轻松地迁移到另一个服务器上，而你可能不知道（或不关心）。

云托管也高度*虚拟化*。也就是说，你的应用程序运行的服务器通常不是物理机器，而是运行在物理服务器上的虚拟机。这个概念并不是云托管引入的，但它已经与云托管成为同义词。

虽然云托管起源卑微，但现在意味着不仅仅是“同质化服务器”。主要的云服务提供商提供许多基础设施服务，（理论上）可以减少你的维护负担，并提供高度可伸缩性。这些服务包括数据库存储、文件存储、网络队列、认证、视频处理、电信服务、人工智能引擎等等。

云托管刚开始可能会让人有些不安，因为你并不了解你的服务器实际上是在哪台物理机上运行的，你只能相信你的服务器不会受到同一台计算机上运行的其他服务器的影响。不过，实际上并没有什么变化：当你的托管账单到来时，你仍然在支付基本相同的费用：有人负责处理物理硬件和网络，以便使你的网络应用程序得以运行。改变的只是你与硬件的距离更远了。

我相信“传统”托管（用缺乏更好术语来说）最终会完全消失。这并不是说托管公司会破产（虽然有些公司难免会），他们只是开始自行提供云托管服务。

### 任何即服务（XaaS）

在考虑云托管时，你会遇到缩写诸如 SaaS、PaaS、IaaS 和 FaaS：

软件即服务（SaaS）

软件即服务（SaaS）通常描述提供给你的软件（网站、应用程序）：你只需使用它们。例如 Google Documents 或 Dropbox。

平台即服务（PaaS）

平台即服务（PaaS）为你提供所有基础设施（操作系统、网络等全部处理）。你只需编写你的应用程序。尽管 PaaS 和 IaaS 之间常常模糊不清（作为开发者，你会发现自己常常游走在这条界线上），但一般来说，本书讨论的是这种服务模型。如果你在运行网站或网络服务，PaaS 可能正是你所需要的。

基础设施即服务（IaaS）

IaaS 提供了最大的灵活性，但也伴随着成本。你只能获得虚拟机和基本的网络连接。然后，你需要负责安装和维护操作系统、数据库和网络策略。除非你需要对环境有这种程度的控制，否则通常会选择 PaaS。（注意，PaaS 允许你选择操作系统和网络配置，你只是不必亲自操作。）

函数即服务（FaaS）

FaaS 描述了 AWS Lambda、Google Functions 和 Azure Functions 等服务，它们提供了在云中运行单个函数的方式，而无需自行配置运行时环境。这正是通常被称为“无服务器”架构的核心。

### 巨头

主导互联网运行（或至少在互联网运行中投入了大量资源）的公司已经意识到，随着计算资源的商品化，它们有另一个可行的产品要销售。亚马逊、微软和谷歌都提供云计算服务，它们的服务非常优秀。

所有这些服务的定价方式大致相同：如果您的托管需求不多，三者之间的价格差异将很小。如果您具有非常高的带宽或存储需求，您将需要更仔细地评估这些服务，因为根据您的需求，成本差异可能会更大。

当我们考虑开源平台时，微软通常不会立即浮现在脑海中，但我不会忽视 Azure。这个平台不仅成熟而稳健，而且微软已经全力以赴地使其对 Node 和开源社区友好。微软提供一个月的 Azure 试用期，这是评估服务是否符合您需求的好方法；如果您正在考虑这“三巨头”之一，我绝对推荐免费试用 Azure。微软为其所有主要服务提供 Node API，包括其云存储服务。除了出色的 Node 主机托管外，Azure 还提供了出色的云存储系统（具有 JavaScript API），以及对 MongoDB 的良好支持。

亚马逊提供了最全面的资源集合，包括短信（文本消息）、云存储、电子邮件服务、支付服务（电子商务）、DNS 等等。此外，亚马逊还提供免费使用层，非常便于评估。

谷歌的云平台已经发展了很长一段路程，现在提供强大的 Node 主机托管服务，并且如您所料，与其自身的服务（尤其是映射、认证和搜索）完美集成。

除了这“三巨头”，还值得考虑 [Heroku](https://www.heroku.com)，它长期以来一直为想要托管快速灵活 Node 应用程序的人提供服务。我在 [DigitalOcean](https://www.digitalocean.com) 也有很好的运气，后者更专注于以非常用户友好的方式提供容器和有限数量的服务。

### 精品托管

较小的托管服务，我将其称为“精品”托管服务（只是没有更好的词），可能没有微软、亚马逊或谷歌的基础设施或资源，但这并不意味着它们不提供有价值的东西。

因为精品托管服务在基础设施方面无法与大公司竞争，它们通常专注于客户服务和支持。如果你需要大量支持，你可能需要考虑精品托管服务。如果你对你现有的托管提供商感到满意，不要犹豫询问它是否提供（或计划提供）Node 托管。

## 部署

令我惊讶的是，即使在 2019 年，仍然有人在使用 FTP 部署他们的应用程序。如果你是，*请停止*。FTP 绝对不安全。你的所有文件不仅以未加密的方式传输，而且你的*用户名和密码*也是如此。如果你的托管提供商没有给你选择的余地，请找一个新的托管提供商。如果你真的别无选择，请确保使用一个你在其他地方没有使用过的唯一密码。

至少，你应该使用 SFTP 或 FTPS（不要混淆），但你确实应该考虑使用*持续交付*（CD）服务。

CD 的理念是，你离可发布版本（可能是几周甚至几天）不会很远。CD 通常与*持续集成*（CI）一起使用，后者指的是开发者工作自动集成和测试的流程。

总的来说，你能够自动化你的流程越多，你的开发工作就会越容易。想象一下合并变更，并自动收到单元测试通过的通知，然后是集成测试通过的通知，最后看到你的变更在线上的过程……只需几分钟！这是一个伟大的目标，但你必须投入一些前期工作来设置它，并且随着时间的推移会有一些维护工作。

尽管步骤本身相似（运行单元测试、运行集成测试、部署到预发布服务器、部署到生产服务器），但设置 CI/CD 流水线（在讨论 CI/CD 时你会经常听到的词汇）的过程差异很大。

你应该查看一些可用的 CI/CD 选项，并选择符合你需求的。

[AWS CodePipeline](https://amzn.to/2CzTQAo)

如果你使用 AWS 托管，CodePipeline 应该是你首选，因为它是你实现 CI/CD 的最简单路径。它非常强大，但我发现它不太用户友好，比一些其他选项稍显复杂。

[Microsoft Azure Web Apps](http://bit.ly/2CEsSI0)

如果你使用 Azure 托管，Web Apps 是你最好的选择（你注意到这里有趋势吗？）。我对这项服务的经验不多，但在社区中似乎备受喜爱。

[Travis CI](https://travis-ci.org/)

Travis CI 已经存在很长时间了，拥有庞大且忠诚的用户群和良好的文档。

[Semaphore](https://semaphoreci.com/)

Semaphore 易于设置和配置，但它并没有提供太多功能，其基本（低成本）计划速度较慢。

[Google Cloud Build](http://bit.ly/2NGuIys)

我还没有尝试过 Google Cloud Build，但它看起来非常强大，就像 CodePipeline 和 Azure Web Apps 一样，如果你使用 Google Cloud 托管，这很可能是最佳选择。

[CircleCI](https://circleci.com/)

CircleCI 是另一个有一段时间的 CI，而且深受喜爱。

[Jenkins](https://jenkins.io/)

Jenkins 是另一个有着庞大社区的老牌工具。根据我的经验，它在跟上现代部署实践方面没有一些其他选项做得好，但它刚刚发布了一个看起来很有前景的新版本。

在一天结束时，CI/CD 服务自动化了*你*创建的活动。你仍然需要编写代码，确定你的版本控制方案，编写高质量的单元测试和集成测试，并且了解你的部署基础设施。这本书中的示例可以简单地自动化：几乎所有内容都可以部署到运行 Node 实例的单个服务器上。然而，随着基础设施的扩展，你的 CI/CD 流水线复杂度也会增加。

### Git 在部署中的角色

Git 的最大优势（也是最大弱点）是其灵活性。它可以适应几乎任何想象得到的工作流程。为了部署，我建议创建一个或多个*专门用于部署*的分支。例如，你可以有一个`production`分支和一个`staging`分支。如何使用这些分支在很大程度上取决于你的个人工作流程。

一个流行的方法是从`master`分支流向`staging`，再到`production`。因此，一旦`master`分支上的某些变更准备上线，你可以将它们合并到`staging`分支。一旦在 staging 服务器上获得批准，你可以将`staging`合并到`production`分支。虽然这在逻辑上是合理的，但我不喜欢它造成的混乱（到处都是合并）。此外，如果有很多需要按不同顺序进行分阶段和推送到生产环境的功能，这很快会变得混乱。

我觉得更好的方法是将`master`合并到`staging`，当你准备好发布更改时，再将`master`合并到`production`。这样一来，`staging`和`production`就不会关联那么紧密：你甚至可以有多个用于测试不同功能的 staging 分支（你可以将不同于`master`的内容合并到它们）。只有在某些内容被批准用于生产环境后，才将其合并到`production`分支。

当需要回滚更改时会发生什么？这就是事情变得复杂的地方。有多种技术可以撤销更改，例如应用提交的反向来撤销先前的提交（`git revert`），这些技术不仅复杂，而且可能会引发后续问题。处理这些情况的典型方式是在每次部署时在你的`production`分支上创建标签（例如，`git tag v1.2.0`）。如果需要回滚到特定版本，你始终可以使用该标签。

最终，决定 Git 工作流的是你和你的团队。比你选择的工作流更重要的是你使用它的一致性，以及围绕它的培训和沟通。

###### Tip

我们已经讨论了将二进制资产（多媒体和文档）与代码存储库分开保持的价值。基于 Git 的部署为此方法提供了另一个激励。如果您的存储库中有 4 GB 的多媒体数据，它们将需要很长时间来克隆，并且您不必为每个生产服务器都保存全部数据的副本。

### 手动基于 Git 的部署

如果您还没有准备好设置 CI/CD，可以从手动基于 Git 的部署开始。这种方法的优点在于您将熟悉部署所涉及的步骤和挑战，这将为您在迈出自动化的步骤时提供帮助。

对于每台您想部署到的服务器，您都需要克隆存储库，检出`production`分支，然后设置启动/重新启动应用所需的基础设施（这将取决于您选择的平台）。当您更新`production`分支时，您需要进入每台服务器，运行`git pull --ff-only`，运行`npm install --production`，然后重新启动应用程序。如果您的部署不频繁，且服务器数量不多，这可能不会带来太大的困扰，但如果您经常更新，这将很快变得单调，您会想要找到某种方式来自动化系统。

###### 提示

`git pull`的`--ff-only`参数允许仅快进式拉取，防止自动合并或重新基础。如果您知道拉取仅为快进式，可以安全地省略它，但如果您习惯于这样做，您将永远不会意外地调用合并或重新基础！

从本质上讲，您在这里所做的是在远程服务器上复制您在开发中的工作方式。手动过程总会存在人为错误的风险，我建议这种方法只是向更自动化的开发迈出的一小步。

# 结论

部署您的网站（尤其是首次）应该是一个令人兴奋的时刻。应该有香槟和欢呼声，但往往情况是出汗、诅咒和彻夜未眠。我见过太多次由疲惫不堪的团队在凌晨三点发布网站。幸运的是，这种情况正在改变，部分归功于云部署。

无论您选择什么部署策略，您能做的最重要的事情是尽早开始生产部署，而不必等网站准备好上线。您不必连接域名，因此公众无需知道。如果在正式发布之前您已将网站部署到生产服务器半打次以上，成功发布的机会将大大提高。理想情况下，您的功能性网站在发布之前很久就已经在生产服务器上运行：您只需从旧网站切换到新网站。
